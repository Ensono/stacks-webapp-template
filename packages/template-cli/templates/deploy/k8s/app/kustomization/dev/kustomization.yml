apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
bases:
  - ./../../base
resources:
  - namespace.yml

namespace: dev-booking
commonLabels:
  environment: dev

patchesStrategicMerge:
  - deployment_patch.yml

configMapGenerator:
  - name: appsettings
    files:
      - app.config.json

secretGenerator:
  - name: appinsights
    behavior: replace
    files:
      - secrets/APPINSIGHTS/INSTRUMENTATIONKEY

  - name: cfcron
    behavior: replace
    files:
      - secrets/CF_CRON/BATCH_SIZE

  # - name: CF_BOOKING_API_BASE_URL
  - name: cfbookingapicron
    behavior: replace
    files:
      - secrets/CF_BOOKING_API/BASE_URL
      - secrets/CF_BOOKING_API/HEADER_NAME
      - secrets/CF_BOOKING_API/GDPR_LIMIT
      - secrets/CF_BOOKING_API/KEY
