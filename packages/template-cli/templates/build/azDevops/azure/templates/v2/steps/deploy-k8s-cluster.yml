parameters:
  aks_cluster_name: ''
  ingress_definition: []
      # ARR=(${{ parameters.ingress_definition }})
        # for i in "${${{ parameters.ingress_definition }}[@]}"
      # echo "${ARR[1]}"
      # echo "${ARR[2]}"

steps:
  - ${{ each ingess in parameters.ingress_definition }}:
    - bash: |
        echo $FOO
        kubectl apply -f ${{ ingess }} --context ${{ parameters.aks_cluster_name }}
      displayName: 'K8s: Deploy Ingress-Nginx'
      workingDirectory: ${{ parameters.terraform_working_dir }}
      env:
        FOO: BAR

# kubectl apply -f $i --context ${{ parameters.aks_cluster_name }}
# kubectl apply -f ${{ parameters.ingress_definition }} --context ${{ parameters.aks_cluster_name }}
