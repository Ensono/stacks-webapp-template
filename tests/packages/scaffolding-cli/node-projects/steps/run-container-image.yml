############################################################################################################
# desc: Runs a given container image (either published or built in same pipeline)
# params: working directory, run arguments (or commands), name of image to run, container registry where image is held
# return: output from image
# pre-reqs: built image
############################################################################################################

parameters:
  working_directory: ''
  docker_run_additional_args: ''
  docker_imagename: ''
  docker_containerregistryname: ''

steps:
  - bash: |
      docker run --rm ${{ parameters.docker_containerregistryname }}/${{ parameters.docker_imagename }} ${{ parameters.docker_run_additional_args }}
    displayName: Run Container Image
    workingDirectory: ${{ parameters.working_directory }}
